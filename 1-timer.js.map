{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport { refs, convertMs } from './storage';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nflatpickr(refs.input, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose: function (selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (!selectedDate || selectedDate.getTime() <= Date.now()) {\n      iziToast.error({\n        title: 'Помилка!',\n        message: 'Будь ласка, виберіть дату в майбутньому.',\n        position: 'topRight',\n      });\n      refs.btn.setAttribute('disabled', true);\n    } else {\n      refs.btn.removeAttribute('disabled');\n    }\n  },\n});\n\nlet countdownInterval;\n\nrefs.btn.setAttribute('disabled', true);\n\nrefs.btn.addEventListener('click', () => {\n  const selectedDate = new Date(refs.input.value);\n\n  if (!selectedDate || selectedDate.getTime() <= Date.now()) {\n    refs.btn.setAttribute('disabled', true);\n    return;\n  }\n\n  refs.btn.setAttribute('disabled', true);\n  refs.input.setAttribute('disabled', true);\n  refs.btn.style.pointerEvents = 'none';\n\n  countdownInterval = setInterval(() => {\n    const now = new Date().getTime();\n    const ms = selectedDate - now;\n\n    if (ms <= 0) {\n      clearInterval(countdownInterval);\n      refs.days.textContent = '00';\n      refs.hours.textContent = '00';\n      refs.minutes.textContent = '00';\n      refs.seconds.textContent = '00';\n\n      refs.input.removeAttribute('disabled');\n      return;\n    }\n\n    const { days, hours, minutes, seconds } = convertMs(ms);\n\n    refs.days.textContent = String(days).padStart(2, '0');\n    refs.hours.textContent = String(hours).padStart(2, '0');\n    refs.minutes.textContent = String(minutes).padStart(2, '0');\n    refs.seconds.textContent = String(seconds).padStart(2, '0');\n  }, 1000);\n});\n"],"names":["flatpickr","refs","selectedDates","selectedDate","iziToast","countdownInterval","now","ms","days","hours","minutes","seconds","convertMs"],"mappings":"mJAMAA,EAAUC,EAAK,MAAO,CACpB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAS,SAAUC,EAAe,CAChC,MAAMC,EAAeD,EAAc,CAAC,EAChC,CAACC,GAAgBA,EAAa,QAAO,GAAM,KAAK,OAClDC,EAAS,MAAM,CACb,MAAO,WACP,QAAS,2CACT,SAAU,UAClB,CAAO,EACDH,EAAK,IAAI,aAAa,WAAY,EAAI,GAEtCA,EAAK,IAAI,gBAAgB,UAAU,CAEtC,CACH,CAAC,EAED,IAAII,EAEJJ,EAAK,IAAI,aAAa,WAAY,EAAI,EAEtCA,EAAK,IAAI,iBAAiB,QAAS,IAAM,CACvC,MAAME,EAAe,IAAI,KAAKF,EAAK,MAAM,KAAK,EAE9C,GAAI,CAACE,GAAgBA,EAAa,QAAO,GAAM,KAAK,MAAO,CACzDF,EAAK,IAAI,aAAa,WAAY,EAAI,EACtC,MACD,CAEDA,EAAK,IAAI,aAAa,WAAY,EAAI,EACtCA,EAAK,MAAM,aAAa,WAAY,EAAI,EACxCA,EAAK,IAAI,MAAM,cAAgB,OAE/BI,EAAoB,YAAY,IAAM,CACpC,MAAMC,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBC,EAAKJ,EAAeG,EAE1B,GAAIC,GAAM,EAAG,CACX,cAAcF,CAAiB,EAC/BJ,EAAK,KAAK,YAAc,KACxBA,EAAK,MAAM,YAAc,KACzBA,EAAK,QAAQ,YAAc,KAC3BA,EAAK,QAAQ,YAAc,KAE3BA,EAAK,MAAM,gBAAgB,UAAU,EACrC,MACD,CAED,KAAM,CAAE,KAAAO,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAE,EAEtDN,EAAK,KAAK,YAAc,OAAOO,CAAI,EAAE,SAAS,EAAG,GAAG,EACpDP,EAAK,MAAM,YAAc,OAAOQ,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDR,EAAK,QAAQ,YAAc,OAAOS,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1DT,EAAK,QAAQ,YAAc,OAAOU,CAAO,EAAE,SAAS,EAAG,GAAG,CAC3D,EAAE,GAAI,CACT,CAAC"}